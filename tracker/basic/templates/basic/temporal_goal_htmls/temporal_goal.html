{% extends 'base.html' %}

{% block content %}
<div class="habits-list">
{% for goal in goals %}
<div class="habit-item {% if goal.general_goal.theme.name == 'programming' %}habit-programming
{% elif goal.general_goal.theme.name == 'health' %}habit-health
{% endif %}">
    <a href="{% url 'temporal_goal_detail' goal.pk %}" class="text-decoration-none text-dark">
        <span class="text-purple">{{ goal.name }}</span>
        <span class="habit-deadline">{{ goal.deadline|date:"M. j, Y" }}</span>
    </a>
    <span>
        <form method="post" action="{% url 'temporal_update' goal.pk %}">
            {% csrf_token %}
            {% if goal.is_completed %}
                <button type="submit" class="btn btn-outline-secondary btn-sm">
                    ❌ Отменить выполнение
                </button>
            {% else %}
                <button type="submit" class="btn btn-outline-success btn-sm">
                    ✅ Отметить выполненной
                </button>
            {% endif %}
        </form>
    </span>

<a href="{% url 'update_temporal_goal' goal.pk %}" class="btn btn-outline-secondary">
    Редактировать
</a>
        <a href="{% url 'delete_temporal_goal' goal.pk %}" class="btn" style="background-color: #f8d7da; color: #721c24; border-color: #f1b0b7;">
            Удалить
        </a>
</div>
{% endfor %}
<div class="text-center mt-5">
    <a href="{% url 'temporal_goal_add' %}" class="btn btn-outline-secondary">
        + Добавить цель
    </a>
</div>
</div>
{% endblock %}